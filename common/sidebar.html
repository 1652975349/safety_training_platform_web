<!-- å·¦ä¾§èœå•ç»„ä»¶ -->
<nav class="sidebar" id="sidebar">
    <ul class="sidebar-menu" id="sidebarMenu">
        <!-- èœå•é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
    </ul>
</nav>

<script>
// èœå•é…ç½®
const menuConfig = {
    student: [
        { icon: 'ğŸ ', text: 'é¦–é¡µ', url: 'dashboard.html' },
        { icon: 'ğŸ“š', text: 'æˆ‘çš„åŸ¹è®­', url: 'my-training.html' },
        { icon: 'ğŸ“–', text: 'å­¦ä¹ èµ„æº', url: 'learning-resources.html' },
        { icon: 'ğŸ“', text: 'è€ƒè¯•ä¸­å¿ƒ', url: 'exams.html' },
        { icon: 'ğŸ‘¤', text: 'ä¸ªäººä¸­å¿ƒ', url: 'profile.html' },
        { icon: 'â­', text: 'ç§¯åˆ†ä¸­å¿ƒ', url: 'points.html' },
        { icon: 'ğŸ””', text: 'é€šçŸ¥ä¸­å¿ƒ', url: 'notifications.html' }
    ],
    admin: [
        { icon: 'ğŸ ', text: 'é¦–é¡µ', url: 'dashboard.html' },
        { icon: 'ğŸ‘¥', text: 'äººå‘˜ç®¡ç†', url: 'personnel.html' },
        { icon: 'ğŸ“š', text: 'åŸ¹è®­ç®¡ç†', url: 'training.html' },
        { icon: 'ğŸ“„', text: 'å†…å®¹ç®¡ç†', url: 'content.html' },
        { icon: 'ğŸ“Š', text: 'ç»Ÿè®¡åˆ†æ', url: 'statistics.html' },
        { icon: 'âš™ï¸', text: 'ç³»ç»Ÿè®¾ç½®', url: 'settings.html' },
        { icon: 'ğŸ””', text: 'é€šçŸ¥ç®¡ç†', url: 'notifications.html' }
    ]
};

// åˆå§‹åŒ–èœå•
function initSidebar(role) {
    const menuContainer = document.getElementById('sidebarMenu');
    const currentPath = window.location.pathname;
    const currentFile = currentPath.split('/').pop();
    
    menuContainer.innerHTML = '';
    
    const menuItems = menuConfig[role] || [];
    
    menuItems.forEach(item => {
        const li = document.createElement('li');
        li.className = 'menu-item';
        
        const isActive = item.url === currentFile;
        
        li.innerHTML = `
            <a href="${item.url}" class="menu-link ${isActive ? 'active' : ''}">
                <span class="menu-icon">${item.icon}</span>
                <span class="menu-text">${item.text}</span>
            </a>
        `;
        
        menuContainer.appendChild(li);
    });
}

// ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
function toggleSidebar() {
    const sidebar = document.getElementById('sidebar');
    sidebar.classList.toggle('open');
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–èœå•
document.addEventListener('DOMContentLoaded', function() {
    // æ ¹æ®å½“å‰é¡µé¢è·¯å¾„åˆ¤æ–­è§’è‰²
    const currentPath = window.location.pathname;
    let role = 'student';
    
    if (currentPath.includes('/admin/')) {
        role = 'admin';
    } else if (currentPath.includes('/student/')) {
        role = 'student';
    }
    
    initSidebar(role);
    
    // æ›´æ–°è§’è‰²åˆ‡æ¢æŒ‰é’®çŠ¶æ€
    const roleButtons = document.querySelectorAll('.role-btn');
    roleButtons.forEach(btn => {
        btn.classList.remove('active');
        if ((role === 'student' && btn.textContent === 'å­¦å‘˜ç«¯') || 
            (role === 'admin' && btn.textContent === 'ç®¡ç†å‘˜ç«¯')) {
            btn.classList.add('active');
        }
    });
});
</script>
