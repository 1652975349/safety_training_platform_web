<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>个人中心 - 安全培训平台</title>
    <link rel="stylesheet" href="../common/styles.css">
</head>
<body>
 <!-- 顶部通栏 - 直接嵌入 -->
 <header class="header">
    <div class="header-left">
        <div class="logo">安全培训平台</div>
        <div class="role-switcher">
            <button class="role-btn active" onclick="switchRole('student')">学员端</button>
            <button class="role-btn" onclick="switchRole('admin')">管理员端</button>
        </div>
    </div>
    <div class="header-right">
        <div class="user-info">
            <div class="avatar">👤</div>
            <span id="currentUser">张三</span>
        </div>
        <button class="btn btn-secondary" onclick="logout()">退出</button>
    </div>
</header>

<!-- 左侧菜单 - 直接嵌入 -->
<nav class="sidebar" id="sidebar">
    <ul class="sidebar-menu" id="sidebarMenu">
        <li class="menu-item">
            <a href="dashboard_simple.html" class="menu-link">
                <span class="menu-icon">🏠</span>
                <span class="menu-text">首页</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="my-training.html" class="menu-link">
                <span class="menu-icon">📚</span>
                <span class="menu-text">我的培训</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="learning-resources.html" class="menu-link">
                <span class="menu-icon">📖</span>
                <span class="menu-text">学习资源</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="exams.html" class="menu-link">
                <span class="menu-icon">📝</span>
                <span class="menu-text">考试中心</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="profile.html" class="menu-link active">
                <span class="menu-icon">👤</span>
                <span class="menu-text">个人中心</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="points.html" class="menu-link">
                <span class="menu-icon">⭐</span>
                <span class="menu-text">积分中心</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="notifications.html" class="menu-link">
                <span class="menu-icon">🔔</span>
                <span class="menu-text">通知中心</span>
            </a>
        </li>
    </ul>
</nav>
    
    <!-- 主内容区域 -->
    <div class="main-content">
        <div class="content-header">
            <h1 class="page-title">个人中心</h1>
            <p class="page-subtitle">个人信息、证书、学时、积分、排行</p>
        </div>
        
        <!-- 个人信息概览 -->
        <div class="card">
            <div class="card-body">
                <div style="display: flex; gap: 30px; align-items: center; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div style="width: 120px; height: 120px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 48px; margin-bottom: 15px;">
                            👤
                        </div>
                        <button class="btn btn-primary btn-sm">更换头像</button>
                    </div>
                    <div style="flex: 1; min-width: 300px;">
                        <h2 style="margin-bottom: 10px;">张三</h2>
                        <p style="color: #666; margin-bottom: 15px;">工号: EMP001 | 生产部 | 电气专业</p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #667eea;">2,580</div>
                                <div style="color: #666; font-size: 14px;">当前积分</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #28a745;">156</div>
                                <div style="color: #666; font-size: 14px;">累计学时(小时)</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #ffc107;">5</div>
                                <div style="color: #666; font-size: 14px;">当前排名</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: bold; color: #dc3545;">11</div>
                                <div style="color: #666; font-size: 14px;">通过考试</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 个人信息详情 -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">个人信息</h2>
            </div>
            <div class="card-body">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                    <div>
                        <h4 style="margin-bottom: 20px;">基本信息</h4>
                        <div class="form-group">
                            <label class="form-label">姓名</label>
                            <input type="text" class="form-control" value="张三" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">工号</label>
                            <input type="text" class="form-control" value="EMP001" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">身份证号</label>
                            <input type="text" class="form-control" value="320102199001011234" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">手机号</label>
                            <input type="text" class="form-control" value="138****1234">
                        </div>
                        <div class="form-group">
                            <label class="form-label">邮箱</label>
                            <input type="email" class="form-control" value="zhangsan@company.com">
                        </div>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 20px;">工作信息</h4>
                        <div class="form-group">
                            <label class="form-label">部门</label>
                            <input type="text" class="form-control" value="生产部" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">专业</label>
                            <input type="text" class="form-control" value="电气专业" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">人员类型</label>
                            <input type="text" class="form-control" value="长维人员" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">入职时间</label>
                            <input type="text" class="form-control" value="2020-03-15" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">注册时间</label>
                            <input type="text" class="form-control" value="2024-01-10" readonly>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-primary">保存修改</button>
                    <button class="btn btn-secondary">重置</button>
                </div>
            </div>
        </div>
        
        <!-- 证书管理 -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">我的证书</h2>
            </div>
            <div class="card-body">
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px;">
                    <div style="border: 2px solid #ddd; border-radius: 10px; padding: 20px; text-align: center; background: #f8f9fa;">
                        <div style="font-size: 48px; margin-bottom: 15px;">🏆</div>
                        <h4 style="margin-bottom: 10px;">安全生产基础知识证书</h4>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">完成安全生产基础知识培训</p>
                        <div style="margin-bottom: 15px;">
                            <span class="badge badge-success">已获得</span>
                        </div>
                        <div style="color: #666; font-size: 12px; margin-bottom: 15px;">
                            获得时间: 2024-01-15<br>
                            有效期: 2025-01-15
                        </div>
                        <button class="btn btn-primary btn-sm">查看证书</button>
                    </div>
                    
                    <div style="border: 2px solid #ddd; border-radius: 10px; padding: 20px; text-align: center; background: #f8f9fa;">
                        <div style="font-size: 48px; margin-bottom: 15px;">⚡</div>
                        <h4 style="margin-bottom: 10px;">电气安全操作证书</h4>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">完成电气安全操作规程培训</p>
                        <div style="margin-bottom: 15px;">
                            <span class="badge badge-success">已获得</span>
                        </div>
                        <div style="color: #666; font-size: 12px; margin-bottom: 15px;">
                            获得时间: 2024-01-12<br>
                            有效期: 2025-01-12
                        </div>
                        <button class="btn btn-primary btn-sm">查看证书</button>
                    </div>
                    
                    <div style="border: 2px solid #ddd; border-radius: 10px; padding: 20px; text-align: center; background: #f8f9fa;">
                        <div style="font-size: 48px; margin-bottom: 15px;">🔥</div>
                        <h4 style="margin-bottom: 10px;">消防安全培训证书</h4>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">完成消防安全培训</p>
                        <div style="margin-bottom: 15px;">
                            <span class="badge badge-warning">进行中</span>
                        </div>
                        <div style="color: #666; font-size: 12px; margin-bottom: 15px;">
                            进度: 30%<br>
                            预计完成: 2024-01-25
                        </div>
                        <button class="btn btn-secondary btn-sm">继续学习</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 学习统计 -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">学习统计</h2>
            </div>
            <div class="card-body">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon blue">📚</div>
                        <div class="stat-number">45</div>
                        <div class="stat-label">已学习资源</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon green">⏱️</div>
                        <div class="stat-number">156</div>
                        <div class="stat-label">累计学时(小时)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon orange">📝</div>
                        <div class="stat-number">11</div>
                        <div class="stat-label">通过考试</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon red">⭐</div>
                        <div class="stat-number">2,580</div>
                        <div class="stat-label">累计积分</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 学习记录 -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">最近学习记录</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>学习内容</th>
                                <th>类型</th>
                                <th>学习时间</th>
                                <th>学时</th>
                                <th>获得积分</th>
                                <th>状态</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>安全生产基础知识视频</td>
                                <td><span class="badge badge-info">视频</span></td>
                                <td>2024-01-15 14:30</td>
                                <td>0.75小时</td>
                                <td>+50积分</td>
                                <td><span class="badge badge-success">已完成</span></td>
                            </tr>
                            <tr>
                                <td>电气安全考试</td>
                                <td><span class="badge badge-success">考试</span></td>
                                <td>2024-01-15 11:20</td>
                                <td>1小时</td>
                                <td>+80积分</td>
                                <td><span class="badge badge-success">已通过</span></td>
                            </tr>
                            <tr>
                                <td>电气安全操作规程</td>
                                <td><span class="badge badge-success">PDF</span></td>
                                <td>2024-01-14 16:45</td>
                                <td>0.5小时</td>
                                <td>+30积分</td>
                                <td><span class="badge badge-success">已完成</span></td>
                            </tr>
                            <tr>
                                <td>消防安全培训PPT</td>
                                <td><span class="badge badge-warning">PPT</span></td>
                                <td>2024-01-13 09:15</td>
                                <td>0.25小时</td>
                                <td>+25积分</td>
                                <td><span class="badge badge-warning">进行中</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <!-- 安全设置 -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">安全设置</h2>
            </div>
            <div class="card-body">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px;">
                    <div>
                        <h4 style="margin-bottom: 20px;">密码设置</h4>
                        <div class="form-group">
                            <label class="form-label">当前密码</label>
                            <input type="password" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label">新密码</label>
                            <input type="password" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-label">确认新密码</label>
                            <input type="password" class="form-control">
                        </div>
                        <button class="btn btn-primary">修改密码</button>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 20px;">人脸识别设置</h4>
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px;">
                            <div style="width: 60px; height: 60px; background: #e3f2fd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                👤
                            </div>
                            <div>
                                <div style="font-weight: bold;">人脸识别已启用</div>
                                <div style="color: #666; font-size: 14px;">最后更新: 2024-01-10</div>
                            </div>
                        </div>
                        <button class="btn btn-warning">重新录入人脸</button>
                        <button class="btn btn-danger">禁用人脸识别</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 角色切换功能
        function switchRole(role) {
            // 移除所有active类
            document.querySelectorAll('.role-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 添加active类到当前按钮
            event.target.classList.add('active');
            
            // 根据角色跳转到对应页面
            if (role === 'student') {
                window.location.href = 'dashboard_simple.html';
            } else if (role === 'admin') {
                window.location.href = '../admin/dashboard_simple.html';
            }
        }

        // 退出功能
        function logout() {
            if (confirm('确定要退出系统吗？')) {
                window.location.href = '../index.html';
            }
        }

        // 更新用户信息
        function updateUserInfo(username) {
            document.getElementById('currentUser').textContent = username;
        }
    </script>
</body>
</html>
