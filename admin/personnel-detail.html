<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äººå‘˜è¯¦æƒ… - å®‰å…¨åŸ¹è®­å¹³å°</title>
    <link rel="stylesheet" href="../common/styles.css">
</head>
<body>
<!-- é¡¶éƒ¨é€šæ  -->
<header class="header">
    <div class="header-left">
        <div class="logo">å®‰å…¨åŸ¹è®­å¹³å°</div>
        <div class="role-switcher">
            <button class="role-btn" onclick="switchRole('student')">å­¦å‘˜ç«¯</button>
            <button class="role-btn active" onclick="switchRole('admin')">ç®¡ç†å‘˜ç«¯</button>
        </div>
    </div>
    <div class="header-right">
        <div class="user-info">
            <div class="avatar">ğŸ‘¤</div>
            <span id="currentUser">ç®¡ç†å‘˜</span>
        </div>
        <button class="btn btn-secondary" onclick="logout()">é€€å‡º</button>
    </div>
</header>

<!-- å·¦ä¾§èœå• -->
<nav class="sidebar" id="sidebar">
    <ul class="sidebar-menu" id="sidebarMenu">
        <li class="menu-item">
            <a href="dashboard_simple.html" class="menu-link">
                <span class="menu-icon">ğŸ </span>
                <span class="menu-text">é¦–é¡µ</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="personnel.html" class="menu-link active">
                <span class="menu-icon">ğŸ‘¥</span>
                <span class="menu-text">äººå‘˜ç®¡ç†</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="training.html" class="menu-link">
                <span class="menu-icon">ğŸ“š</span>
                <span class="menu-text">åŸ¹è®­ç®¡ç†</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="content.html" class="menu-link">
                <span class="menu-icon">ğŸ“„</span>
                <span class="menu-text">å†…å®¹ç®¡ç†</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="statistics.html" class="menu-link">
                <span class="menu-icon">ğŸ“Š</span>
                <span class="menu-text">ç»Ÿè®¡åˆ†æ</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="settings.html" class="menu-link">
                <span class="menu-icon">âš™ï¸</span>
                <span class="menu-text">ç³»ç»Ÿè®¾ç½®</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="notifications.html" class="menu-link">
                <span class="menu-icon">ğŸ””</span>
                <span class="menu-text">é€šçŸ¥ç®¡ç†</span>
            </a>
        </li>
    </ul>
</nav>

<!-- ä¸»å†…å®¹åŒºåŸŸ -->
<div class="main-content">
    <div class="content-header">
        <div style="display: flex; align-items: center; gap: 15px;">
            <button class="btn btn-secondary" onclick="goBack()">â† è¿”å›</button>
            <h1 class="page-title">äººå‘˜è¯¦æƒ…</h1>
        </div>
        <p class="page-subtitle">æŸ¥çœ‹äººå‘˜å®Œæ•´ä¿¡æ¯</p>
    </div>
    
    <!-- äººå‘˜åŸºæœ¬ä¿¡æ¯ -->
    <div class="card">
        <div class="card-header">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h2 class="card-title">åŸºæœ¬ä¿¡æ¯</h2>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-primary btn-sm" onclick="editPersonnel()">ç¼–è¾‘</button>
                    <button class="btn btn-secondary btn-sm" onclick="printPersonnel()">æ‰“å°</button>
                </div>
            </div>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-3">
                    <div style="text-align: center; margin-bottom: 20px;">
                        <div style="width: 120px; height: 120px; background: #e3f2fd; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 48px; margin: 0 auto 15px;">å¼ </div>
                        <h3 id="personnelName">å¼ ä¸‰</h3>
                        <p class="text-muted" id="personnelId">å·¥å·ï¼šEMP001</p>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">èº«ä»½è¯å·ï¼š</label>
                                <span class="info-value" id="idCard">320102199001011234</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">æ‰‹æœºå·ï¼š</label>
                                <span class="info-value" id="phone">138****1234</span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">éƒ¨é—¨ï¼š</label>
                                <span class="info-value" id="department">ç”Ÿäº§éƒ¨</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">ä¸“ä¸šï¼š</label>
                                <span class="info-value" id="profession">ç”µæ°”ä¸“ä¸š</span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">äººå‘˜ç±»å‹ï¼š</label>
                                <span class="info-value" id="personnelType">é•¿ç»´äººå‘˜</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">çŠ¶æ€ï¼š</label>
                                <span class="info-value" id="status">æ­£å¸¸</span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">å…¥èŒæ—¶é—´ï¼š</label>
                                <span class="info-value" id="joinDate">2024-01-10</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="info-item">
                                <label class="info-label">å²—ä½ï¼š</label>
                                <span class="info-value" id="position">ç”µæ°”å·¥ç¨‹å¸ˆ</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- åŸ¹è®­è®°å½• -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">åŸ¹è®­è®°å½•</h2>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th>åŸ¹è®­åç§°</th>
                            <th>åŸ¹è®­ç±»å‹</th>
                            <th>å¼€å§‹æ—¶é—´</th>
                            <th>ç»“æŸæ—¶é—´</th>
                            <th>æˆç»©</th>
                            <th>çŠ¶æ€</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ç”µæ°”å®‰å…¨åŸ¹è®­</td>
                            <td><span class="badge badge-primary">å¿…ä¿®</span></td>
                            <td>2024-01-15</td>
                            <td>2024-01-20</td>
                            <td>95åˆ†</td>
                            <td><span class="badge badge-success">å·²å®Œæˆ</span></td>
                        </tr>
                        <tr>
                            <td>æ¶ˆé˜²å®‰å…¨åŸ¹è®­</td>
                            <td><span class="badge badge-warning">é€‰ä¿®</span></td>
                            <td>2024-02-01</td>
                            <td>2024-02-05</td>
                            <td>88åˆ†</td>
                            <td><span class="badge badge-success">å·²å®Œæˆ</span></td>
                        </tr>
                        <tr>
                            <td>èŒä¸šå¥åº·åŸ¹è®­</td>
                            <td><span class="badge badge-primary">å¿…ä¿®</span></td>
                            <td>2024-03-01</td>
                            <td>2024-03-10</td>
                            <td>-</td>
                            <td><span class="badge badge-warning">è¿›è¡Œä¸­</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- è¯ä¹¦ä¿¡æ¯ -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">è¯ä¹¦ä¿¡æ¯</h2>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <div class="certificate-item">
                        <div class="certificate-icon">ğŸ“œ</div>
                        <h4>ç”µå·¥è¯</h4>
                        <p>è¯ä¹¦ç¼–å·ï¼šDG2024001</p>
                        <p>æœ‰æ•ˆæœŸï¼š2024-01-01 è‡³ 2026-01-01</p>
                        <span class="badge badge-success">æœ‰æ•ˆ</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="certificate-item">
                        <div class="certificate-icon">ğŸ›¡ï¸</div>
                        <h4>å®‰å…¨å‘˜è¯</h4>
                        <p>è¯ä¹¦ç¼–å·ï¼šAQ2024001</p>
                        <p>æœ‰æ•ˆæœŸï¼š2024-02-01 è‡³ 2027-02-01</p>
                        <span class="badge badge-success">æœ‰æ•ˆ</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="certificate-item">
                        <div class="certificate-icon">ğŸ”¥</div>
                        <h4>æ¶ˆé˜²è¯</h4>
                        <p>è¯ä¹¦ç¼–å·ï¼šXF2024001</p>
                        <p>æœ‰æ•ˆæœŸï¼š2024-03-01 è‡³ 2025-03-01</p>
                        <span class="badge badge-warning">å³å°†åˆ°æœŸ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.info-item {
    margin-bottom: 15px;
    padding: 10px 0;
    border-bottom: 1px solid #eee;
}

.info-label {
    font-weight: bold;
    color: #666;
    display: inline-block;
    width: 100px;
}

.info-value {
    color: #333;
}

.certificate-item {
    text-align: center;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    margin-bottom: 20px;
}

.certificate-icon {
    font-size: 48px;
    margin-bottom: 15px;
}

.certificate-item h4 {
    margin-bottom: 10px;
    color: #333;
}

.certificate-item p {
    margin: 5px 0;
    color: #666;
    font-size: 14px;
}
</style>

<script>
    // é¡µé¢åŠ è½½æ—¶ä»sessionStorageè·å–äººå‘˜ä¿¡æ¯
    document.addEventListener('DOMContentLoaded', function() {
        loadPersonnelDetail();
    });

    // åŠ è½½äººå‘˜è¯¦æƒ…æ•°æ®
    function loadPersonnelDetail() {
        const empId = sessionStorage.getItem('viewPersonnelId') || sessionStorage.getItem('editPersonnelId');
        const name = sessionStorage.getItem('viewPersonnelName') || sessionStorage.getItem('editPersonnelName');
        const idCard = sessionStorage.getItem('editPersonnelIdCard');
        const phone = sessionStorage.getItem('editPersonnelPhone');
        const department = sessionStorage.getItem('editPersonnelDepartment');
        const profession = sessionStorage.getItem('editPersonnelProfession');
        const type = sessionStorage.getItem('editPersonnelType');
        const regTime = sessionStorage.getItem('editPersonnelRegTime');
        const status = sessionStorage.getItem('editPersonnelStatus');

        if (empId && name) {
            document.getElementById('personnelName').textContent = name;
            document.getElementById('personnelId').textContent = `å·¥å·ï¼š${empId}`;
            document.getElementById('idCard').textContent = idCard || 'æœªå¡«å†™';
            document.getElementById('phone').textContent = phone || 'æœªå¡«å†™';
            document.getElementById('department').textContent = department || 'æœªåˆ†é…';
            document.getElementById('profession').textContent = profession || 'æœªåˆ†é…';
            document.getElementById('personnelType').textContent = type || 'æœªè®¾ç½®';
            document.getElementById('status').textContent = status || 'æ­£å¸¸';
            document.getElementById('joinDate').textContent = regTime || 'æœªå¡«å†™';
        }
    }

    // ç¼–è¾‘äººå‘˜
    function editPersonnel() {
        // è·³è½¬åˆ°ç¼–è¾‘é¡µé¢
        window.location.href = 'personnel-edit.html';
    }

    // æ‰“å°äººå‘˜ä¿¡æ¯
    function printPersonnel() {
        window.print();
    }

    // è¿”å›ä¸Šä¸€é¡µ
    function goBack() {
        window.location.href = 'personnel.html';
    }

    // è§’è‰²åˆ‡æ¢åŠŸèƒ½
    function switchRole(role) {
        document.querySelectorAll('.role-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
        
        if (role === 'student') {
            window.location.href = '../student/dashboard_simple.html';
        } else if (role === 'admin') {
            window.location.href = 'dashboard_simple.html';
        }
    }

    // é€€å‡ºåŠŸèƒ½
    function logout() {
        if (confirm('ç¡®å®šè¦é€€å‡ºç³»ç»Ÿå—ï¼Ÿ')) {
            window.location.href = '../index.html';
        }
    }

    // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
    function updateUserInfo(username) {
        document.getElementById('currentUser').textContent = username;
    }
</script>
</body>
</html>
