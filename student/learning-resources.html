<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å­¦ä¹ èµ„æº - å®‰å…¨åŸ¹è®­å¹³å°</title>
    <link rel="stylesheet" href="../common/styles.css">
</head>
<body>
 <!-- é¡¶éƒ¨é€šæ  - ç›´æ¥åµŒå…¥ -->
 <header class="header">
    <div class="header-left">
        <div class="logo">å®‰å…¨åŸ¹è®­å¹³å°</div>
        <div class="role-switcher">
            <button class="role-btn active" onclick="switchRole('student')">å­¦å‘˜ç«¯</button>
            <button class="role-btn" onclick="switchRole('admin')">ç®¡ç†å‘˜ç«¯</button>
        </div>
    </div>
    <div class="header-right">
        <div class="user-info">
            <div class="avatar">ğŸ‘¤</div>
            <span id="currentUser">å¼ ä¸‰</span>
        </div>
        <button class="btn btn-secondary" onclick="logout()">é€€å‡º</button>
    </div>
</header>

<!-- å·¦ä¾§èœå• - ç›´æ¥åµŒå…¥ -->
<nav class="sidebar" id="sidebar">
    <ul class="sidebar-menu" id="sidebarMenu">
        <li class="menu-item">
            <a href="dashboard_simple.html" class="menu-link">
                <span class="menu-icon">ğŸ </span>
                <span class="menu-text">é¦–é¡µ</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="my-training.html" class="menu-link">
                <span class="menu-icon">ğŸ“š</span>
                <span class="menu-text">æˆ‘çš„åŸ¹è®­</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="learning-resources.html" class="menu-link active">
                <span class="menu-icon">ğŸ“–</span>
                <span class="menu-text">å­¦ä¹ èµ„æº</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="exams.html" class="menu-link">
                <span class="menu-icon">ğŸ“</span>
                <span class="menu-text">è€ƒè¯•ä¸­å¿ƒ</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="profile.html" class="menu-link">
                <span class="menu-icon">ğŸ‘¤</span>
                <span class="menu-text">ä¸ªäººä¸­å¿ƒ</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="points.html" class="menu-link">
                <span class="menu-icon">â­</span>
                <span class="menu-text">ç§¯åˆ†ä¸­å¿ƒ</span>
            </a>
        </li>
        <li class="menu-item">
            <a href="notifications.html" class="menu-link">
                <span class="menu-icon">ğŸ””</span>
                <span class="menu-text">é€šçŸ¥ä¸­å¿ƒ</span>
            </a>
        </li>
    </ul>
</nav>
    
    <!-- ä¸»å†…å®¹åŒºåŸŸ -->
    <div class="main-content">
        <div class="content-header">
            <h1 class="page-title">å­¦ä¹ èµ„æº</h1>
            <p class="page-subtitle">è§†é¢‘/æ–‡æ¡£å­¦ä¹ ï¼Œå­¦æ—¶å’Œç§¯åˆ†åŒæ­¥</p>
        </div>
        
        <!-- èµ„æºç­›é€‰ -->
        <div class="card">
            <div class="card-body">
                <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                    <div class="form-group" style="margin-bottom: 0; min-width: 150px;">
                        <select class="form-control">
                            <option value="">å…¨éƒ¨ç±»å‹</option>
                            <option value="video">è§†é¢‘</option>
                            <option value="document">æ–‡æ¡£</option>
                            <option value="ppt">PPT</option>
                            <option value="pdf">PDF</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom: 0; min-width: 150px;">
                        <select class="form-control">
                            <option value="">å…¨éƒ¨åˆ†ç±»</option>
                            <option value="safety">å®‰å…¨ç”Ÿäº§</option>
                            <option value="electrical">ç”µæ°”å®‰å…¨</option>
                            <option value="fire">æ¶ˆé˜²å®‰å…¨</option>
                            <option value="chemical">åŒ–å·¥å®‰å…¨</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom: 0; min-width: 200px;">
                        <input type="text" class="form-control" placeholder="æœç´¢èµ„æºåç§°">
                    </div>
                    <button class="btn btn-primary">ğŸ” æœç´¢</button>
                </div>
            </div>
        </div>
        
        <!-- å­¦ä¹ ç»Ÿè®¡ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon blue">ğŸ“š</div>
                <div class="stat-number">156</div>
                <div class="stat-label">ç´¯è®¡å­¦æ—¶(å°æ—¶)</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon green">â­</div>
                <div class="stat-number">2,580</div>
                <div class="stat-label">ç´¯è®¡ç§¯åˆ†</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon orange">ğŸ“–</div>
                <div class="stat-number">45</div>
                <div class="stat-label">å·²å­¦ä¹ èµ„æº</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon red">ğŸ¯</div>
                <div class="stat-number">12</div>
                <div class="stat-label">å¾…å­¦ä¹ èµ„æº</div>
            </div>
        </div>
        
        <!-- èµ„æºåˆ—è¡¨ -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">å­¦ä¹ èµ„æº</h2>
            </div>
            <div class="card-body">
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
                    <!-- èµ„æºå¡ç‰‡1 -->
                    <div class="card" style="margin-bottom: 0;">
                        <div style="position: relative;">
                            <div style="width: 100%; height: 150px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                                ğŸ¥
                            </div>
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                                45åˆ†é’Ÿ
                            </div>
                        </div>
                        <div class="card-body" style="padding: 15px;">
                            <h4 style="margin-bottom: 10px;">å®‰å…¨ç”Ÿäº§åŸºç¡€çŸ¥è¯†è§†é¢‘</h4>
                            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">æ¶µç›–å®‰å…¨ç”Ÿäº§æ³•å¾‹æ³•è§„ã€å®‰å…¨ç®¡ç†åˆ¶åº¦ç­‰åŸºç¡€å†…å®¹</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span class="badge badge-info">è§†é¢‘</span>
                                <span style="color: #667eea; font-weight: bold;">+50ç§¯åˆ†</span>
                            </div>
                            <div class="progress" style="margin-bottom: 15px;">
                                <div class="progress-bar" style="width: 75%"></div>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-primary btn-sm" style="flex: 1;" onclick="continueLearning('å®‰å…¨ç”Ÿäº§åŸºç¡€çŸ¥è¯†è§†é¢‘', 'video')">ç»§ç»­å­¦ä¹ </button>
                                <button class="btn btn-secondary btn-sm" onclick="viewResourceDetail('å®‰å…¨ç”Ÿäº§åŸºç¡€çŸ¥è¯†è§†é¢‘', 'video')">è¯¦æƒ…</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- èµ„æºå¡ç‰‡2 -->
                    <div class="card" style="margin-bottom: 0;">
                        <div style="position: relative;">
                            <div style="width: 100%; height: 150px; background: linear-gradient(135deg, #28a745 0%, #20c997 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                                ğŸ“„
                            </div>
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                                30åˆ†é’Ÿ
                            </div>
                        </div>
                        <div class="card-body" style="padding: 15px;">
                            <h4 style="margin-bottom: 10px;">ç”µæ°”å®‰å…¨æ“ä½œè§„ç¨‹</h4>
                            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">ç”µæ°”è®¾å¤‡æ“ä½œå®‰å…¨è§„èŒƒã€äº‹æ•…é¢„é˜²æªæ–½è¯¦ç»†è¯´æ˜</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span class="badge badge-success">PDF</span>
                                <span style="color: #28a745; font-weight: bold;">+30ç§¯åˆ†</span>
                            </div>
                            <div class="progress" style="margin-bottom: 15px;">
                                <div class="progress-bar" style="width: 100%"></div>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-secondary btn-sm" style="flex: 1;">å·²å®Œæˆ</button>
                                <button class="btn btn-warning btn-sm" onclick="restartLearning('ç”µæ°”å®‰å…¨æ“ä½œè§„ç¨‹', 'pdf')">é‡æ–°å­¦ä¹ </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- èµ„æºå¡ç‰‡3 -->
                    <div class="card" style="margin-bottom: 0;">
                        <div style="position: relative;">
                            <div style="width: 100%; height: 150px; background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                                ğŸ“Š
                            </div>
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                                25åˆ†é’Ÿ
                            </div>
                        </div>
                        <div class="card-body" style="padding: 15px;">
                            <h4 style="margin-bottom: 10px;">æ¶ˆé˜²å®‰å…¨åŸ¹è®­PPT</h4>
                            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">æ¶ˆé˜²å™¨æä½¿ç”¨ã€ç«ç¾é€ƒç”Ÿã€åº”æ€¥å¤„ç†çŸ¥è¯†</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span class="badge badge-warning">PPT</span>
                                <span style="color: #ffc107; font-weight: bold;">+25ç§¯åˆ†</span>
                            </div>
                            <div class="progress" style="margin-bottom: 15px;">
                                <div class="progress-bar" style="width: 30%"></div>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-primary btn-sm" style="flex: 1;" onclick="startLearning('æ¶ˆé˜²å®‰å…¨åŸ¹è®­PPT', 'ppt')">å¼€å§‹å­¦ä¹ </button>
                                <button class="btn btn-secondary btn-sm" onclick="viewResourceDetail('æ¶ˆé˜²å®‰å…¨åŸ¹è®­PPT', 'ppt')">è¯¦æƒ…</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- èµ„æºå¡ç‰‡4 -->
                    <div class="card" style="margin-bottom: 0;">
                        <div style="position: relative;">
                            <div style="width: 100%; height: 150px; background: linear-gradient(135deg, #dc3545 0%, #e83e8c 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">
                                ğŸ“
                            </div>
                            <div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                                20åˆ†é’Ÿ
                            </div>
                        </div>
                        <div class="card-body" style="padding: 15px;">
                            <h4 style="margin-bottom: 10px;">åŒ–å·¥å®‰å…¨çŸ¥è¯†æ–‡æ¡£</h4>
                            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">åŒ–å·¥ç”Ÿäº§å®‰å…¨çŸ¥è¯†ã€å±é™©åŒ–å­¦å“ç®¡ç†è§„èŒƒ</p>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                <span class="badge badge-danger">Word</span>
                                <span style="color: #dc3545; font-weight: bold;">+20ç§¯åˆ†</span>
                            </div>
                            <div class="progress" style="margin-bottom: 15px;">
                                <div class="progress-bar" style="width: 0%"></div>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button class="btn btn-primary btn-sm" style="flex: 1;" onclick="startLearning('åŒ–å·¥å®‰å…¨çŸ¥è¯†æ–‡æ¡£', 'word')">å¼€å§‹å­¦ä¹ </button>
                                <button class="btn btn-secondary btn-sm" onclick="viewResourceDetail('åŒ–å·¥å®‰å…¨çŸ¥è¯†æ–‡æ¡£', 'word')">è¯¦æƒ…</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- å­¦ä¹ è®°å½• -->
        <div class="card">
            <div class="card-header">
                <h2 class="card-title">å­¦ä¹ è®°å½•</h2>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>èµ„æºåç§°</th>
                                <th>ç±»å‹</th>
                                <th>å­¦ä¹ æ—¶é—´</th>
                                <th>å­¦æ—¶</th>
                                <th>è·å¾—ç§¯åˆ†</th>
                                <th>çŠ¶æ€</th>
                                <th>æ“ä½œ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>å®‰å…¨ç”Ÿäº§åŸºç¡€çŸ¥è¯†è§†é¢‘</td>
                                <td><span class="badge badge-info">è§†é¢‘</span></td>
                                <td>2024-01-15 14:30</td>
                                <td>0.75å°æ—¶</td>
                                <td>+50ç§¯åˆ†</td>
                                <td><span class="badge badge-warning">å­¦ä¹ ä¸­</span></td>
                                <td>
                                    <button class="btn btn-primary btn-sm" onclick="continueLearning('å®‰å…¨ç”Ÿäº§åŸºç¡€çŸ¥è¯†è§†é¢‘', 'video')">ç»§ç»­å­¦ä¹ </button>
                                </td>
                            </tr>
                            <tr>
                                <td>ç”µæ°”å®‰å…¨æ“ä½œè§„ç¨‹</td>
                                <td><span class="badge badge-success">PDF</span></td>
                                <td>2024-01-14 10:20</td>
                                <td>0.5å°æ—¶</td>
                                <td>+30ç§¯åˆ†</td>
                                <td><span class="badge badge-success">å·²å®Œæˆ</span></td>
                                <td>
                                    <button class="btn btn-secondary btn-sm" onclick="restartLearning('ç”µæ°”å®‰å…¨æ“ä½œè§„ç¨‹', 'pdf')">é‡æ–°å­¦ä¹ </button>
                                </td>
                            </tr>
                            <tr>
                                <td>æ¶ˆé˜²å®‰å…¨åŸ¹è®­PPT</td>
                                <td><span class="badge badge-warning">PPT</span></td>
                                <td>2024-01-13 16:45</td>
                                <td>0.25å°æ—¶</td>
                                <td>+25ç§¯åˆ†</td>
                                <td><span class="badge badge-warning">å­¦ä¹ ä¸­</span></td>
                                <td>
                                    <button class="btn btn-primary btn-sm" onclick="continueLearning('æ¶ˆé˜²å®‰å…¨åŸ¹è®­PPT', 'ppt')">ç»§ç»­å­¦ä¹ </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // è§’è‰²åˆ‡æ¢åŠŸèƒ½
        function switchRole(role) {
            // ç§»é™¤æ‰€æœ‰activeç±»
            document.querySelectorAll('.role-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ·»åŠ activeç±»åˆ°å½“å‰æŒ‰é’®
            event.target.classList.add('active');
            
            // æ ¹æ®è§’è‰²è·³è½¬åˆ°å¯¹åº”é¡µé¢
            if (role === 'student') {
                window.location.href = 'dashboard_simple.html';
            } else if (role === 'admin') {
                window.location.href = '../admin/dashboard_simple.html';
            }
        }

        // é€€å‡ºåŠŸèƒ½
        function logout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç³»ç»Ÿå—ï¼Ÿ')) {
                window.location.href = '../index.html';
            }
        }

        // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
        function updateUserInfo(username) {
            document.getElementById('currentUser').textContent = username;
        }
        
        // å¼€å§‹å­¦ä¹ 
        function startLearning(resourceName, resourceType) {
            // è·³è½¬åˆ°èµ„æºè¯¦æƒ…é¡µé¢
            const params = new URLSearchParams({
                name: resourceName,
                type: resourceType
            });
            window.location.href = `resource-detail.html?${params.toString()}`;
        }
        
        // ç»§ç»­å­¦ä¹ 
        function continueLearning(resourceName, resourceType) {
            // è·³è½¬åˆ°èµ„æºè¯¦æƒ…é¡µé¢
            const params = new URLSearchParams({
                name: resourceName,
                type: resourceType
            });
            window.location.href = `resource-detail.html?${params.toString()}`;
        }
        
        // é‡æ–°å­¦ä¹ 
        function restartLearning(resourceName, resourceType) {
            if (confirm(`ç¡®å®šè¦é‡æ–°å­¦ä¹ "${resourceName}"å—ï¼Ÿ\n\nè¿™å°†é‡ç½®å­¦ä¹ è¿›åº¦ã€‚`)) {
                // è·³è½¬åˆ°èµ„æºè¯¦æƒ…é¡µé¢
                const params = new URLSearchParams({
                    name: resourceName,
                    type: resourceType
                });
                window.location.href = `resource-detail.html?${params.toString()}`;
            }
        }
        
        // æŸ¥çœ‹èµ„æºè¯¦æƒ…
        function viewResourceDetail(resourceName, resourceType) {
            // è·³è½¬åˆ°èµ„æºè¯¦æƒ…é¡µé¢
            const params = new URLSearchParams({
                name: resourceName,
                type: resourceType
            });
            window.location.href = `resource-detail.html?${params.toString()}`;
        }
        
        // æ›´æ–°å­¦ä¹ è¿›åº¦
        function updateLearningProgress(resourceName, progress) {
            // è¿™é‡Œå¯ä»¥æ›´æ–°é¡µé¢ä¸Šçš„è¿›åº¦æ¡
            const progressBars = document.querySelectorAll('.progress-bar');
            progressBars.forEach(bar => {
                if (bar.closest('.card').querySelector('h4').textContent === resourceName) {
                    bar.style.width = progress + '%';
                }
            });
        }
        
        // æœç´¢èµ„æº
        function searchResources() {
            const searchInput = document.querySelector('input[placeholder="æœç´¢èµ„æºåç§°"]');
            const searchTerm = searchInput.value.trim();
            
            if (searchTerm === '') {
                alert('è¯·è¾“å…¥æœç´¢å…³é”®è¯');
                return;
            }
            
            alert(`æ­£åœ¨æœç´¢"${searchTerm}"ç›¸å…³çš„å­¦ä¹ èµ„æº...`);
            // è¿™é‡Œå¯ä»¥å®ç°æœç´¢åŠŸèƒ½
        }
        
        // ç­›é€‰èµ„æº
        function filterResources() {
            const typeSelect = document.querySelector('select');
            const categorySelect = document.querySelectorAll('select')[1];
            
            const selectedType = typeSelect.value;
            const selectedCategory = categorySelect.value;
            
            let filterText = 'æ­£åœ¨ç­›é€‰èµ„æºï¼š';
            if (selectedType) filterText += ` ç±»å‹=${selectedType}`;
            if (selectedCategory) filterText += ` åˆ†ç±»=${selectedCategory}`;
            
            alert(filterText);
            // è¿™é‡Œå¯ä»¥å®ç°ç­›é€‰åŠŸèƒ½
        }
        
        // ç»‘å®šæœç´¢å’Œç­›é€‰äº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            const searchBtn = document.querySelector('button:contains("ğŸ” æœç´¢")');
            const typeSelect = document.querySelector('select');
            const categorySelect = document.querySelectorAll('select')[1];
            
            if (searchBtn) {
                searchBtn.addEventListener('click', searchResources);
            }
            
            if (typeSelect) {
                typeSelect.addEventListener('change', filterResources);
            }
            
            if (categorySelect) {
                categorySelect.addEventListener('change', filterResources);
            }
        });
    </script>
</body>
</html>
